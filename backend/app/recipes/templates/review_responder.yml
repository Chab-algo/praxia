slug: review-responder
name: Review Responder
description: "Generates professional, personalized responses to e-commerce product reviews"
category: ecommerce
version: "1.0.0"
icon: message-square

estimated_cost_per_run: 0.000355

input_schema:
  type: object
  required:
    - review_text
    - product_name
  properties:
    review_text:
      type: string
      description: "The customer review text"
    product_name:
      type: string
      description: "Name of the product being reviewed"
    star_rating:
      type: integer
      minimum: 1
      maximum: 5
    brand_voice:
      type: string
      enum: [professional, friendly, empathetic]
      default: professional

output_schema:
  type: object
  properties:
    sentiment:
      type: string
      enum: [positive, neutral, negative]
    response:
      type: string
    key_points:
      type: array
      items:
        type: string

steps:
  - id: classify_sentiment
    name: "Classify Review Sentiment"
    type: llm_call
    complexity: classify
    system_prompt: |
      You are a sentiment classifier. Analyze the product review and respond with JSON only.
      Format: {"sentiment": "positive"|"neutral"|"negative", "key_points": ["point1", "point2"]}
    user_prompt: "Review for {{product_name}}: {{review_text}}"
    max_tokens: 100
    temperature: 0.1
    response_format: json_object
    cacheable: true

  - id: generate_response
    name: "Generate Response"
    type: llm_call
    complexity: generate_short
    system_prompt: |
      You are a {{brand_voice}} customer service agent for {{product_name}}.
      Write a concise response (2-3 sentences max) to this {{steps.classify_sentiment.output.sentiment}} review.
      Address the key points mentioned.
    user_prompt: "Original review: {{review_text}}"
    max_tokens: 200
    temperature: 0.4
    cacheable: false

  - id: format_output
    name: "Format Output"
    type: transform
    mapping:
      sentiment: "{{steps.classify_sentiment.output.sentiment}}"
      response: "{{steps.generate_response.output}}"
      key_points: "{{steps.classify_sentiment.output.key_points}}"

roi_metrics:
  time_saved: "15h/week"
  cost_saved: "Based on avg 5min per manual response"
  use_case: "Automated e-commerce review responses"
